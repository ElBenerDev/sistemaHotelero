{% extends "layouts/base.html" %}

{% block title %}{{ 'Editar' if guest else 'Agregar' }} Huésped{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex justify-content-between align-items-center">
            <h6 class="m-0 font-weight-bold text-primary">
                {{ 'Editar' if guest else 'Agregar' }} Huésped
            </h6>
        </div>
        <div class="card-body">
            <form method="POST">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="first_name" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" 
                                   value="{{ guest.first_name if guest else '' }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="last_name" class="form-label">Apellidos</label>
                            <input type="text" class="form-control" id="last_name" name="last_name"
                                   value="{{ guest.last_name if guest else '' }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" name="email"
                                   value="{{ guest.email if guest else '' }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Teléfono</label>
                            <input type="tel" class="form-control" id="phone" name="phone"
                                   value="{{ guest.phone if guest else '' }}" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="address" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="address" name="address"
                                   value="{{ guest.address if guest else '' }}">
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">Ciudad</label>
                            <input type="text" class="form-control" id="city" name="city"
                                   value="{{ guest.city if guest else '' }}">
                        </div>
                        <div class="mb-3">
                            <label for="country" class="form-label">País</label>
                            <input type="text" class="form-control" id="country" name="country"
                                   value="{{ guest.country if guest else '' }}">
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="identification_type" class="form-label">Tipo de Identificación</label>
                                    <select class="form-select" id="identification_type" name="identification_type" required>
                                        <option value="DNI" {{ 'selected' if guest and guest.identification_type == 'DNI' else '' }}>DNI</option>
                                        <option value="PASSPORT" {{ 'selected' if guest and guest.identification_type == 'PASSPORT' else '' }}>Pasaporte</option>
                                        <option value="OTHER" {{ 'selected' if guest and guest.identification_type == 'OTHER' else '' }}>Otro</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="identification_number" class="form-label">Número de Identificación</label>
                                    <input type="text" class="form-control" id="identification_number" 
                                           name="identification_number"
                                           value="{{ guest.identification_number if guest else '' }}" required>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-end">
                    <a href="{{ url_for('guests.index') }}" class="btn btn-secondary">Cancelar</a>
                    <button type="submit" class="btn btn-primary">
                        {{ 'Guardar Cambios' if guest else 'Agregar Huésped' }}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}